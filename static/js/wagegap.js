// Generated by CoffeeScript 1.6.3
(function() {
  var people, updateChart, y;

  people = {
    men: {
      africanAmerican: 73,
      hispanic: 61,
      white: 100
    },
    women: {
      africanAmerican: 64,
      hispanic: 54,
      white: 78
    }
  };

  y = d3.scale.linear().domain([0, 100]).range([0, 400]);

  updateChart = function(divElement, newDatum) {
    var datum, gender, genderedData, race;
    gender = $(selectedRight).attr("id");
    genderedData = gender === "men" ? people.men : people.women;
    alert(genderedData);
    race = $(selectedLeft).attr("id");
    datum = race === "white" ? genderedData.white : race === "african-american" ? genderedData.africanAmerican : genderedData.hispanic;
    alert(datum);
    $(divElement).height(y(newDatum) + "px");
    return $(divElement).text(newDatum + "%");
  };

  $(function() {
    var divElement, selectedLeft, selectedRight;
    selectedLeft = $("div.people table td.selected.left");
    selectedRight = $("div.people table td.selected.right");
    divElement = $(".chart div");
    updateChart = function() {
      var datum, gender, genderedData, race;
      gender = $(selectedRight).attr("id");
      genderedData = gender === "men" ? people.men : people.women;
      race = $(selectedLeft).attr("id");
      datum = race === "white" ? genderedData.white : race === "african-american" ? genderedData.africanAmerican : genderedData.hispanic;
      $(divElement).height(y(datum) + "px");
      return $(divElement).text(datum + "%");
    };
    updateChart();
    $("div.people table td.left").click(function() {
      $(selectedLeft).removeClass("selected");
      $(this).addClass("selected");
      selectedLeft = this;
      return updateChart();
    });
    return $("div.people table td.right").click(function() {
      $(selectedRight).removeClass("selected");
      $(this).addClass("selected");
      selectedRight = this;
      return updateChart();
    });
  });

}).call(this);
